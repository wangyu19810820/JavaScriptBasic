<!--
    正则添加粘滞模式/y
    在当前位置（stickyPattern.lastIndex）开始匹配，
    匹配成功，返回匹配结果，修改lastIndex
    如果匹配失败，则停止匹配

    普通：从任意位置匹配，返回首次匹配成功字符，lastIndex属性对于匹配过程无影响
    全局(/g)，忽略lastIndex之前的内容，成功后修改lastIndex
    粘滞(/y)，精确从lastIndex开始匹配，成功后修改lastIndex
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
    <script>
    
        function test1() {
            let text = "hello1 hello2 hello3",
                pattern = /hello\d\s?/,
                result = pattern.exec(text),
                globalPattern = /hello\d\s?/g,
                globalResult = globalPattern.exec(text),
                stickyPattern = /hello\d\s?/y,
                stickyResult = stickyPattern.exec(text);

            console.log(result[0]);
            console.log(pattern.lastIndex);
            console.log(globalResult[0]);
            console.log(globalPattern.lastIndex);
            console.log(stickyResult[0]);
            console.log(stickyPattern.lastIndex);
            console.log("-------------------------------------")

            pattern.lastIndex = 1;
            result = pattern.exec(text);
            console.log(result[0]);
            globalPattern.lastIndex = 1;
            globalResult = globalPattern.exec(text);
            console.log(globalResult[0]);
            stickyPattern.lastIndex = 1;
            stickyResult = stickyPattern.exec(text);
            console.log(stickyResult);
        }
        
        function test2() {
            let text = "hello1 hello2 hello3",
                pattern = /hello\d\s?/,
                result = pattern.exec(text),
                globalPattern = /hello\d\s?/g,
                globalResult = globalPattern.exec(text),
                stickyPattern = /hello\d\s?/y,
                stickyResult = stickyPattern.exec(text);

            console.log(result[0]);
            console.log(pattern.lastIndex);
            console.log(globalResult[0]);
            console.log(globalPattern.lastIndex);
            console.log(stickyResult[0]);
            console.log(stickyPattern.lastIndex);
            console.log("-------------------------------------")

            result = pattern.exec(text);
            globalResult = globalPattern.exec(text);
            stickyResult = stickyPattern.exec(text);
            console.log(result[0]);
            console.log(pattern.lastIndex);
            console.log(globalResult[0]);
            console.log(globalPattern.lastIndex);
            console.log(stickyResult[0]);
            console.log(stickyPattern.lastIndex);
            console.log("-------------------------------------")  

            result = pattern.exec(text);
            globalResult = globalPattern.exec(text);
            stickyResult = stickyPattern.exec(text);
            console.log(result[0]);
            console.log(pattern.lastIndex);
            console.log(globalResult[0]);
            console.log(globalPattern.lastIndex);
            console.log(stickyResult[0]);
            console.log(stickyPattern.lastIndex);
            console.log("-------------------------------------")            
          
        }

        test2();
    </script>
</body>
</html>